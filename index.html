<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>潘旭晨 — 个人主页</title>
  <meta name="description" content="潘旭晨 的个人简历与作品展示" />
  <meta name="author" content="潘旭晨">
  <style>
    /* 使用微软雅黑作为首选字体 */
    @font-face{font-family: 'Microsoft YaHei';}
    :root{--bg1:#021026; --bg2:#071428; --card:#071927; --muted:#9aa6b2; --accent:#06b6d4; --accent2:#7c3aed; --glass: rgba(255,255,255,0.03);}    
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:"Microsoft YaHei", "微软雅黑", Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; -webkit-font-smoothing:antialiased}
    body{background: radial-gradient(800px 400px at 10% 10%, rgba(99,102,241,0.12), transparent), radial-gradient(700px 350px at 90% 90%, rgba(6,182,212,0.08), transparent), linear-gradient(180deg,var(--bg1),var(--bg2)); color:#e6eef3; padding:28px; overflow-y:auto}
    .wrap{max-width:1100px;margin:0 auto}
    header{display:flex;align-items:center;justify-content:space-between;gap:16px}
    nav{display:flex;gap:12px;align-items:center}
    .btn{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px 12px;border-radius:10px;color:var(--muted);cursor:pointer;font-size:14px}
    .btn.primary{background:linear-gradient(90deg,var(--accent),var(--accent2));color:#021226;border:0;box-shadow:0 6px 18px rgba(7,18,40,0.6);}
    .lang-toggle{display:flex;gap:8px}
    .hero{display:flex;gap:20px;align-items:center;margin-top:18px}
    .avatar{width:120px;height:120px;border-radius:18px;overflow:hidden;flex-shrink:0;border:4px solid rgba(255,255,255,0.04);background:linear-gradient(135deg,var(--accent),var(--accent2));display:flex;align-items:center;justify-content:center}
    .avatar img{width:100%;height:100%;object-fit:cover;display:block}
    .intro{flex:1}
    .name{font-size:30px;margin:0}
    .headline{margin:6px 0;color:var(--muted);font-size:15px}
    .typewriter{display:inline-block;color:var(--accent);font-weight:600}
    .grid{display:grid;grid-template-columns:1fr 340px;gap:20px;margin-top:18px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:12px;padding:18px;margin-top:0;box-shadow:0 8px 30px rgba(2,6,23,0.6);backdrop-filter: blur(6px)}
    
    /* 标题优化 */
    section h2{margin:0 0 8px 0;font-size:18px; color: #fff; border-bottom: 1px solid rgba(255,255,255,0.08); padding-bottom: 6px; font-weight: 600;} /* 一级标题更明显 */
    section h3{margin:12px 0 6px 0;font-size:16px; color: var(--accent); font-weight: 500;} /* 二级标题 (如子模块标题) */

    .meta{color:var(--muted);font-size:13px; margin-top: 4px; line-height: 1.6;}
    .list{margin:0;padding:0;list-style:none}
    .list li{margin-bottom: 6px;} /* 列表项增加间距 */
    .skills{display:flex;flex-wrap:wrap;gap:8px}
    .tag{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:6px 10px;border-radius:999px;font-size:13px;color:var(--muted);border:1px solid rgba(255,255,255,0.03);transform:translateY(0);transition:transform .25s ease}
    .tag:hover{transform:translateY(-6px) scale(1.03)}
    .blob{position:fixed;pointer-events:none;filter:blur(40px);opacity:0.25}
    .blob.b1{width:420px;height:420px;left:-80px;top:-120px;background:radial-gradient(circle at 30% 30%, #7c3aed, transparent 40%)}
    .blob.b2{width:360px;height:360px;right:-100px;bottom:-80px;background:radial-gradient(circle at 70% 70%, #06b6d4, transparent 40%)}
    .reveal{opacity:0;transform:translateY(12px);transition:all .6s cubic-bezier(.2,.9,.2,1)}
    .reveal.show{opacity:1;transform:none}
    /* skill-row 样式已移除，因为该元素已被删除 */
    /* skill-name 样式已移除，因为该元素已被删除 */
    /* skill-bar 样式已移除，因为该元素已被删除 */
    /* skill-progress 样式已移除，因为该元素已被删除 */
    /* portfolio */
    .portfolio-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px;margin-top:12px}
    .video-card{background:rgba(255,255,255,0.02);border-radius:10px;padding:8px;cursor:pointer;overflow:hidden;border:1px solid rgba(255,255,255,0.03);display:flex;flex-direction:column;gap:8px}
    .video-thumb{width:100%;height:140px;object-fit:cover;border-radius:8px;background:#000}
    .video-title{font-size:14px;color:#fff}
    .video-meta{font-size:12px;color:var(--muted)}
    /* modal */
    .modal{position:fixed;inset:0;background:rgba(2,6,23,0.7);display:flex;align-items:center;justify-content:center;z-index:60;padding:20px;opacity:0;pointer-events:none;transition:all .2s ease}
    .modal.show{opacity:1;pointer-events:auto}
    .modal-content{max-width:1000px;width:100%;background:rgba(6,11,18,0.7);border-radius:12px;padding:12px}
    .modal video{width:100%;height:auto;border-radius:8px}
    .modal-close{position:absolute;right:26px;top:20px;background:transparent;border:0;color:#fff;font-size:20px;cursor:pointer}
    footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center}
    @media (max-width:880px){.grid{grid-template-columns:1fr}.avatar{width:96px;height:96px;font-size:20px}}
  </style>
</head>
<body>
  <div class="blob b1" aria-hidden="true"></div>
  <div class="blob b2" aria-hidden="true"></div>
  <div class="wrap">
    <header>
      <div style="display:flex;align-items:center;gap:12px">
        <div class="avatar">
          <img src="./pxc.png" alt="个人证件照">
        </div>
        <div style="display:flex;flex-direction:column">
          <div style="font-weight:700;font-size:18px;color:#fff"><span data-lang-zh>潘旭晨</span><span data-lang-en style="display:none">Xuchen Pan</span></div>
          <div style="color:var(--muted);font-size:13px"><span data-lang-zh>新媒体传播 · 影视/视频制作</span><span data-lang-en style="display:none">New Media · Film & Video Production</span></div>
        </div>
      </div>

      <nav>
        <button class="btn" onclick="scrollToSection('about')"><span data-lang-zh>关于</span><span data-lang-en style="display:none">About</span></button>
        <button class="btn" onclick="scrollToSection('experience')"><span data-lang-zh>经历</span><span data-lang-en style="display:none">Experience</span></button>
        <button class="btn" onclick="scrollToSection('skills')"><span data-lang-zh>技能</span><span data-lang-en style="display:none">Skills</span></button>
        <button class="btn" onclick="scrollToSection('portfolio')"><span data-lang-zh>作品</span><span data-lang-en style="display:none">Portfolio</span></button>
        <div class="lang-toggle">
          <button id="zh-btn" class="btn primary" onclick="setLang('zh')">中文</button>
          <button id="en-btn" class="btn" onclick="setLang('en')">English</button>
        </div>
      </nav>
    </header>

    <div class="hero">
      <div class="intro">
        <h1 class="name"><span data-lang-zh>潘旭晨</span><span data-lang-en style="display:none">Xuchen Pan</span></h1>
        <div class="headline">
          <span data-lang-zh>硕士 · 新媒体传播 | 影视/视频制作 | 视觉传达</span>
          <span data-lang-en style="display:none">M.A. in New Media · Film & Video Production · Visual Communication</span>
          &nbsp;•&nbsp;<span class="typewriter" id="tw"></span>
        </div>
      </div>
    </div>

    <div class="grid">
      <main>
        <div class="card reveal" id="about">
          <section>
            <h2><span data-lang-zh>个人简介</span><span data-lang-en style="display:none">Profile</span></h2>
            <p class="meta" data-lang-zh>细心从每一个小细节开始。新媒体与影视方向的传播工作者，擅长短片拍摄、脚本策划、镜头调度与后期剪辑。具有企业宣传片制作与活动影像记录的完整流程经验，关注影像叙事与品牌表达的结合。</p>
            <p class="meta" data-lang-en style="display:none">Start with attention to every small detail. I am a communications professional focused on new media and film. Skilled in short film shooting, script planning, shot directing, and post-production. Experienced across the full production pipeline for corporate promos and event videos, with attention to narrative and brand expression.</p>

            <h3><span data-lang-zh>责任与技能亮点</span><span data-lang-en style="display:none">Responsibilities & Highlights</span></h3>
            <ul class="list meta">
              <li data-lang-zh>统筹拍摄与制作流程：从前期策划、分镜脚本，到拍摄执行与后期合成。</li>
              <li data-lang-en style="display:none">Oversee production pipeline: from pre-production and storyboards to shooting and post-compositing.</li>
              <li data-lang-zh>专业软件：Adobe Premiere、After Effects、Photoshop、Audition、剪映。</li>
              <li data-lang-en style="display:none">Tools: Adobe Premiere, After Effects, Photoshop, Audition, Jianying.</li>
              <li data-lang-zh>具备采访与文稿撰写能力，可承担人物/企业宣讲类短视频策划与采访拍摄。</li>
              <li data-lang-en style="display:none">Experienced in interview production and copywriting for person/brand-focused short videos.</li>
            </ul>
          </section>

          <section style="margin-top:16px" id="education">
            <h2><span data-lang-zh>教育经历</span><span data-lang-en style="display:none">Education</span></h2>
            <div class="meta" style="margin-top:8px">
              <strong><span data-lang-zh>香港浸会大学 — 新媒体传播学（硕士）</span><span data-lang-en style="display:none">Hong Kong Baptist University — M.A. in New Media Communication (Master)</span></strong>
              <div class="meta">2022.09 — 2023.09</div>
              <div class="meta" style="margin-top:6px" data-lang-zh>主修课程：独立电影制片、互动媒体、媒体艺术、影视与新媒体宣传广告与发行、传播学基础等。</div>
              <div class="meta" style="margin-top:6px;display:none" data-lang-en>Representative courses: Independent Film Production, Interactive Media, Media Arts, Film & New Media Advertising and Distribution, Fundamentals of Communication, etc..</div>
            </div>

            <div class="meta" style="margin-top:12px">
              <strong><span data-lang-zh>南京传媒学院 — 戏剧影视设计专业（本科）</span><span data-lang-en style="display:none">Nanjing Communication University — B.A. in Theatrical & Film Design (Bachelor)</span></strong>
              <div class="meta">2018.09 — 2022.06 · GPA: 3.72 · <span data-lang-zh>专业排名：2</span><span data-lang-en style="display:none">Class rank: 2</span></div>
              <div class="meta" style="margin-top:6px" data-lang-zh>主修课程：计算机绘图语言,摄影艺术、影视鉴赏、视听语言、设计基础、戏剧史、中外电影史、艺术概论等。</div>
              <div class="meta" style="margin-top:6px;display:none" data-lang-en>Representative courses: Computer Graphics Language, Photography Art, Film and Television Appreciation, Audiovisual Language, Design Fundamentals, History of Drama, History of Chinese and Foreign Cinema, Introduction to Art, etc..</div>
            </div>
          </section>

          <section style="margin-top:16px" id="experience">
            <h2><span data-lang-zh>实习 / 工作经历</span><span data-lang-en style="display:none">Experience</span></h2>
            <div style="margin-top:8px">
              <div style="font-weight:600"><span data-lang-zh>中联重科 — 文化专干</span><span data-lang-en style="display:none">Zoomlion — Cultural Specialist</span></div>
              <div class="meta">2023.12 — <span data-lang-zh>至今</span><span data-lang-en style="display:none">Present</span></div>
              <ul class="list meta">
                <li data-lang-zh>主要负责企业文化宣传，包括但不限于宣传采访短片制作，企业新闻稿件撰写、企业工会活动组织策划执行等工作任务；</li>
                <li data-lang-en style="display:none">Primarily responsible for corporate culture promotion, including but not limited to production of promotional interview shorts, writing corporate news articles, and organizing, planning, and executing corporate union activities;</li>
                <li data-lang-zh>在此过程中提高了自己的专业能力，锻炼了文字功底，也极大提升了自己的沟通交流能力。</li>
                <li data-lang-en style="display:none">In the process, enhanced professional skills, developed writing proficiency, and significantly improved communication abilities.</li>
              </ul>
            </div>

            <div style="margin-top:10px">
              <div style="font-weight:600"><span data-lang-zh>河南广播电视台 — 栏目制作实习生</span><span data-lang-en style="display:none">Henan Radio & TV — Program Production Intern</span></div>
              <div class="meta">2021.11 — 2022.02</div>
              <ul class="list meta">
                <li data-lang-zh>主要负责节目拍摄前方案的制作，前期脚本文案的撰写，节日海报的设计制作，后期素材整理，后期节目的剪辑包装等工作任务；</li>
                <li data-lang-en style="display:none">Primarily responsible for producing pre-shoot proposals, writing early-stage scripts and copy, designing and producing event posters, organizing post-production materials, and editing and packaging the final program;</li>
                <li data-lang-zh>过程中提高了自己的办事效率，组织能力和沟通能力，也培养了自己的团队协作能力。</li>
                <li data-lang-en style="display:none">Improved work efficiency, organizational skills, and communication skills, and cultivated team collaboration abilities.</li>
              </ul>
            </div>

            <div style="margin-top:10px">
              <div style="font-weight:600"><span data-lang-zh>学生会宣传制作中心 — 干事一部长</span><span data-lang-en style="display:none">Student Union Publicity and Production Center — Member / Head</span></div>
              <div class="meta">2018 — 2020</div>
              <ul class="list meta">
                <li data-lang-zh>活动宣传：负责组织学生会相关活动的宣传工作,负责带领部门成员进行活动内容的设计制作,包括宣传海报,横幅,展贴等物料；</li>
                <li data-lang-en style="display:none">Event Publicity: Responsible for organizing the promotion of student union activities, and leading department members in designing and producing event materials, including promotional posters, banners, and exhibits;</li>
                <li data-lang-zh>活动策划：参与组织和策划校园活动,包括“暖冬计划”“迎新晚会”等大型活动,参与活动前期协调组织工作,预热宣传工作,活动物料设计制作工作,活动现场配合拍摄工作以及活动后期图片视频的处理工作。</li>
                <li data-lang-en style="display:none">Event Planning: Participated in organizing and planning campus events, including large-scale activities like "Warm Winter Project" and "Freshers' Night," involved in pre-event coordination, pre-heating publicity, event material design and production, on-site filming assistance, and post-event image and video processing.</li>
              </ul>
            </div>
          </section>

          <section style="margin-top:16px" id="honors">
            <h2><span data-lang-zh>奖项与荣誉</span><span data-lang-en style="display:none">Honors</span></h2>
            <ul class="list meta" style="margin-top:8px">
              <li><span data-lang-zh>2019.09 奖学金、三好学生</span><span data-lang-en style="display:none">2019.09 Scholarship, Excellent Student</span></li>
              <li><span data-lang-zh>2020.09 学生会优秀成员</span><span data-lang-en style="display:none">2020.09 Outstanding Student Union Member</span></li>
              <li><span data-lang-zh>2022.06 优秀毕业生</span><span data-lang-en style="display:none">2022.06 Outstanding Graduate</span></li>
            </ul>
          </section>

          <section style="margin-top:16px" id="projects">
            <h2><span data-lang-zh>代表项目</span><span data-lang-en style="display:none">Selected Projects</span></h2>
            <ul class="list meta">
              <li><strong><span data-lang-zh>企业文化系列短片（中联重科）</span><span data-lang-en style="display:none">Corporate Culture Short Series (Zoomlion)</span></strong> — <span data-lang-zh>负责策划、采访与剪辑，完成多集企业内宣短片，推动内部传播。</span><span data-lang-en style="display:none">Responsible for planning, interviewing and editing — produced multiple episodes of internal corporate promotional shorts, boosting internal communication.</span></li>
              <li style="margin-top:6px"><strong><span data-lang-zh>栏目制作实习（河南广播电视台）</span><span data-lang-en style="display:none">Program Production Internship (Henan Radio & TV)</span></strong> — <span data-lang-zh>参与节目拍摄前方案制作、脚本文案撰写及后期剪辑包装。</span><span data-lang-en style="display:none">Involved in pre-shoot proposal production, script and copy writing, and post-production editing and packaging.</span></li>
            </ul>
          </section>

          <section style="margin-top:16px" id="summary">
            <h2><span data-lang-zh>自我评价</span><span data-lang-en style="display:none">Summary</span></h2>
            <p class="meta" data-lang-zh>协作效率高,时间观念强。性格开朗,有极强的交往能力和处理人际关系的能力与较强的团队合作意识。对待工作任务态度认真,责任心强,具有良好的工作学习习惯,执行力强,能够有条理性的完成工作任务。</p>
            <p class="meta" data-lang-en style="display:none">High collaboration efficiency and strong time management skills. Outgoing personality, with excellent interpersonal and relationship management skills, and a strong sense of teamwork. Conscientious and highly responsible towards work tasks, with good work and study habits, strong execution, and the ability to complete tasks systematically.</p>
          </section>

          <section style="margin-top:16px" id="skills">
            <h2><span data-lang-zh>专业技能</span><span data-lang-en style="display:none">Skills</span></h2>
            <div style="margin-top:10px" class="skills">
              <span class="tag"><span data-lang-zh>大学英语四级/六级</span><span data-lang-en style="display:none">CET-4/6 Passed</span></span>
              <span class="tag"><span data-lang-zh>普通话良好</span><span data-lang-en style="display:none">Good Mandarin</span></span>

              <span class="tag"><span data-lang-zh>计算机二级（良好）</span><span data-lang-en style="display:none">Computer Rank Exam Level 2</span></span>
              <span class="tag"><span data-lang-zh>熟练办公软件</span><span data-lang-en style="display:none">Proficient Office Software</span></span>
              
              <span class="tag">Premiere Pro</span>
              <span class="tag">After Effects</span>
              <span class="tag">Photoshop</span>
              <span class="tag">Audition</span>
              <span class="tag"><span data-lang-zh>剪映</span><span data-lang-en style="display:none">Jianying</span></span>
              <span class="tag"><span data-lang-zh>脚本与文案</span><span data-lang-en style="display:none">Scripting & Copywriting</span></span>
              <span class="tag"><span data-lang-zh>采访与剪辑</span><span data-lang-en style="display:none">Interviewing & Editing</span></span>
              <span class="tag"><span data-lang-zh>视频剪辑</span><span data-lang-en style="display:none">Video Editing</span></span>
              <span class="tag"><span data-lang-zh>后期合成</span><span data-lang-en style="display:none">Compositing</span></span>
              <span class="tag"><span data-lang-zh>摄影与构图</span><span data-lang-en style="display:none">Cinematography</span></span>
              <span class="tag"><span data-lang-zh>团队协作</span><span data-lang-en style="display:none">Teamwork</span></span>
            </div>
          </section>
        </div>
        
        <div class="card reveal" style="margin-top:18px" id="portfolio">
          <h2><span data-lang-zh>作品展示</span><span data-lang-en style="display:none">Portfolio</span></h2>

          <div class="portfolio-grid" id="portfolio-grid">
            <div class="video-card" data-src="./video1.mp4" data-title-zh="剪辑作品A" data-title-en="Event Edit A" tabindex="0">
              <video class="video-thumb" muted playsinline loop preload="metadata" src="./video1.mp4" poster="./thumb1.jpg" controls></video>
              <div>
                <div class="video-title"><span data-lang-zh>剪辑作品A</span><span data-lang-en style="display:none">Event Edit A</span></div>
                <div class="video-meta"><span data-lang-zh>时长：00:59 · 2025</span><span data-lang-en style="display:none">Duration: 00:59 · 2025</span></div>
              </div>
            </div>

            <div class="video-card" data-src="./video2.mp4" data-title-zh="剪辑作品B" data-title-en="Event Edit B" tabindex="0">
              <video class="video-thumb" muted playsinline loop preload="metadata" src="./video2.mp4" poster="./thumb2.jpg" controls></video>
              <div>
                <div class="video-title"><span data-lang-zh>剪辑作品B</span><span data-lang-en style="display:none">Event Edit B</span></div>
                <div class="video-meta"><span data-lang-zh>时长：02:05 · 2025</span><span data-lang-en style="display:none">Duration: 02:05 · 2025</span></div>
              </div>
            </div>

            </div>
        </div>

      </main>

      <aside>
        <div class="card reveal" style="position:sticky;top:28px">
          <h2><span data-lang-zh>联系方式</span><span data-lang-en style="display:none">Contact</span></h2>
          <div style="margin-top:8px;color:var(--muted)">
            <div><span class="meta"><span data-lang-zh>电话：</span><span data-lang-en style="display:none">Phone:</span></span>19839727710</div>
            <div style="margin-top:6px"><span class="meta"><span data-lang-zh>邮箱：</span><span data-lang-en style="display:none">Email:</span></span><a href="mailto:panpanxuchen@163.com">panpanxuchen@163.com</a></div>
          </div>

          <div style="margin-top:12px">
            <h2><span data-lang-zh>下载简历</span><span data-lang-en style="display:none">Resume</span></h2>
            <p class="meta" style="margin-top:6px"><a class="btn primary" href="./resume.pdf" download><span data-lang-zh>下载简历 (PDF)</span><span data-lang-en style="display:none">Download Resume (PDF)</span></a></p>
          </div>
        </div>
      </aside>
    </div>

    <footer>
      <div class="meta"><span data-lang-zh>版权所有 © 2025 潘旭晨</span><span data-lang-en style="display:none">© 2025 Xuchen Pan. All rights reserved.</span></div>
    </footer>
  </div>

  <div class="modal" id="modal" role="dialog" aria-hidden="true">
    <div class="modal-content" id="modal-content">
      <button class="modal-close" id="modal-close">✕</button>
      <video id="modal-video" controls playsinline preload="metadata"></video>
      <div style="margin-top:8px;color:var(--muted)" id="modal-title"></div>
    </div>
  </div>

  <script>
    // Language toggle
    const setLang = (lang) => {
      document.querySelectorAll('[data-lang-zh]').forEach(el=>el.style.display = (lang==='zh')? '' : 'none');
      document.querySelectorAll('[data-lang-en]').forEach(el=>el.style.display = (lang==='en')? '' : 'none');
      document.getElementById('zh-btn').classList.toggle('primary', lang==='zh');
      document.getElementById('en-btn').classList.toggle('primary', lang==='en');
      localStorage.setItem('pref-lang', lang);

      // update modal titles from data attributes
      document.querySelectorAll('.video-card').forEach(card=>{
        const titleZh = card.getAttribute('data-title-zh') || '';
        const titleEn = card.getAttribute('data-title-en') || '';
        // IMPORTANT: The element with data-title attribute must not be within data-lang-zh/en spans for this logic to work after language change
        card.setAttribute('data-title', (lang==='zh')? titleZh : titleEn);

        // toggle internal inline texts (for meta which uses span data-lang-zh/en)
        card.querySelectorAll('[data-lang-zh]').forEach(el=>el.style.display = (lang==='zh')? '' : 'none');
        card.querySelectorAll('[data-lang-en]').forEach(el=>el.style.display = (lang==='en')? '' : 'none');
      });
    }
    (function(){ const pref = localStorage.getItem('pref-lang') || (navigator.language && navigator.language.startsWith('en')? 'en' : 'zh'); setLang(pref); })();

    function scrollToSection(id){ const el = document.getElementById(id); if(!el) return; el.scrollIntoView({behavior:'smooth',block:'start'}); }

    // Reveal animation
    const reveals = document.querySelectorAll('.reveal');
    const io = new IntersectionObserver(entries=>{ entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('show'); } }); },{threshold:0.12});
    reveals.forEach(r=>io.observe(r));

    // Skill bars logic removed

    // Typewriter
    const words = ['短片制作', '脚本撰写', '后期剪辑', '企业宣传'];
    const words_en = ['Filmmaking','Scriptwriting','Editing','Corporate Media'];
    let idx = 0; let char = 0; let forward=true; const tw = document.getElementById('tw');
    function tick(){ const lang = localStorage.getItem('pref-lang') || 'zh'; const pool = (lang==='en')? words_en : words; const w = pool[idx]; if(forward){ char++; tw.textContent = w.slice(0,char); if(char===w.length){ forward=false; setTimeout(tick,900); return; }} else { char--; tw.textContent = w.slice(0,char); if(char===0){ forward=true; idx = (idx+1)%pool.length; }} setTimeout(tick,120); }
    tick();

    // Keyboard L to toggle language
    window.addEventListener('keydown', (e)=>{ if(e.key==='l' || e.key==='L'){ const next = (localStorage.getItem('pref-lang')==='zh')? 'en':'zh'; setLang(next); } });

    // Portfolio: modal video playback
    const modal = document.getElementById('modal'); const modalVideo = document.getElementById('modal-video'); const modalTitle = document.getElementById('modal-title'); const modalClose = document.getElementById('modal-close');
    function openModal(src,title){ modal.classList.add('show'); modal.setAttribute('aria-hidden','false'); modalVideo.src = src; modalVideo.currentTime = 0; modalVideo.play(); modalTitle.textContent = title; }
    function closeModal(){ modal.classList.remove('show'); modal.setAttribute('aria-hidden','true'); try{ modalVideo.pause(); modalVideo.src = ''; }catch(e){} }
    modalClose.addEventListener('click', closeModal); modal.addEventListener('click',(e)=>{ if(e.target===modal) closeModal(); }); window.addEventListener('keydown',(e)=>{ if(e.key==='Escape') closeModal(); });

    // Attach click handlers for each video card
    document.querySelectorAll('.video-card').forEach(card=>{
      card.addEventListener('click', ()=>{ const src = card.getAttribute('data-src'); const title = card.getAttribute('data-title') || card.getAttribute('data-title-zh') || card.getAttribute('data-title-en') || ''; openModal(src,title); });
      card.addEventListener('keypress', (e)=>{ if(e.key==='Enter') card.click(); });
    });

    // Accessibility: pause thumbnails when modal open
    // (thumbnails are muted looping videos by default)
  </script>
</body>
</html>
